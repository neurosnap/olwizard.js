/*! olWizard.js - v0.0.3 - 2015-04-03 */!function(a){"use strict";a.fn.olWizard=function(b){if(0===this.length)throw"DOM Element not found.";var c=this;return this.opts=a.extend({title:".olwiz-title",content:".olwiz-content",next:".olwiz-next",prev:".olwiz-prev",passed:"olwiz-passed",failed:"olwiz-failed",active:"olwiz-active",validate:{},animate:!0},b),this._done=!1,this.lilwiz={},this.find(this.opts.content).hide(),this.gotoStep=function(b,d){"undefined"==typeof d&&(d=this.opts.animate);var e=this.getStep(b);if("undefined"!=typeof e)return e.isFirst()?e.find(this.opts.prev).prop("disabled",!0):e.find(this.opts.prev).prop("disabled",!1),this.children("li").removeClass(c.opts.active),e.addClass(c.opts.active),e.find(this.opts.content).show(),this._done||e.trigger("olwizStep",e),d&&a("html, body").animate({scrollTop:e.offset().top},600),this},this.eachStep=function(b){for(var c in this.lilwiz){var d=this.lilwiz[c];a.proxy(b,d,c)()}},this.getStep=function(b){var d;if(this.eachStep(function(a){return b==this.getStepNumber()?void(d=this):b==this.opts.name?void(d=this):b==this[0]?void(d=this):b==this?void(d=this):void 0}),d)return d;var e,f=this.children("li");return f.each(function(d){var f=d+1;return b==f?(c.lilwiz[f]=a(this).lilWizard(c),void(e=c.lilwiz[f])):b==a(this).attr("name")?(c.lilwiz[f]=a(this).lilWizard(c),void(e=c.lilwiz[f])):void 0}),e},this.getActiveStep=function(){for(var a in this.lilwiz){var b=this.lilwiz[a];if(b.hasClass(this.opts.active))return b}},this.next=function(a){var b;if(b="undefined"==typeof a?this.getActiveStep():this.getStep(a),b&&!b._disable_actions&&b.hasClass(c.opts.active)){if(!this._done){var d=b._validate();if(d!==!0)return;if(b.isLast())return this._done=!0,b.passed(!1),b.removeClass(this.opts.active),void b.trigger("olwizDone")}return this.gotoStep(b.getStepNumber()+1)}},this.prev=function(a){if("undefined"==typeof a)var a=this.getActiveStep();if(a&&!a._disable_actions&&a.hasClass(c.opts.active))return this.gotoStep(a.index())},this},a.fn.lilWizard=function(b,c){function d(a){a.on("click",a.olwiz.opts.next,function(){a.olwiz.next(a[0])}),a.on("click",a.olwiz.opts.prev,function(){a.olwiz.prev(a[0])}),a.on("click",a.olwiz.opts.title,function(){return a.hasClass(a.olwiz.opts.passed)||a.hasClass(a.olwiz.opts.failed)?a.olwiz.gotoStep(e.getStepNumber()):void 0})}var e=this;return this.olwiz=b,this.opts=a.extend({name:this.attr("name")},c),this._data={},this._disable_actions=!1,this.validator,d(this),this.getStepNumber=function(){return this.index()+1},this.getTitle=function(){return this.find(this.find(this.olwiz.opts.title))},this.getContent=function(){return this.find(this.find(this.olwiz.opts.content))},this.isFirst=function(){return this[0]===this.olwiz.children("li").first()[0]},this.isLast=function(){return this[0]===this.olwiz.children("li").last()[0]},this.data=function(a){return"undefined"==typeof a?this._data:(this._data=a,this)},this.disable_actions=function(){a(this).find(this.olwiz.opts.prev).prop("disabled",!0),a(this).find(this.olwiz.opts.next).prop("disabled",!0),this._disable_actions=!0},this.enable_actions=function(){this.isFirst()||this.find(this.olwiz.opts.prev).prop("disabled",!1),this.find(this.olwiz.opts.next).prop("disabled",!1),this._disable_actions=!1},this.passed=function(a){return this.removeClass(this.olwiz.opts.failed).addClass(this.olwiz.opts.passed),this.enable_actions(),this.trigger("olwizStepPassed",this),"undefined"==typeof a&&(a=!0),a&&this.olwiz.gotoStep(this.getStepNumber()+1),this},this.failed=function(a){return"undefined"!=typeof a&&this.data(a),this.removeClass(this.olwiz.opts.passed).addClass(this.olwiz.opts.failed),this.enable_actions(),this.trigger("olwizStepFailed",this),this},this.validate=function(a){return this.validator=a,this},this._validate=function(){var a=(this.getStepNumber(),!0);return this.disable_actions(),"undefined"!=typeof this.validator&&(a=this.validator(this)),a===!0?(this.passed(!1),!0):a===!1?(this.failed(),!1):void this.enable_actions()},this}}(jQuery);